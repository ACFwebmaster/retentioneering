# =============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# This file contains production-ready environment variables for the
# Non-Profit Engagement Model project. Copy this file to .env and update
# the values with your actual production credentials and settings.
#
# SECURITY WARNING: Never commit this file with real credentials to version control!
# =============================================================================

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=production
DEBUG=False
DEV_MODE=False

# =============================================================================
# AZURE SQL DATABASE CONFIGURATION
# =============================================================================
# Production Azure SQL Database settings with connection pooling optimization

# Database Connection (REQUIRED)
AZURE_SQL_SERVER=your-production-server.database.windows.net
AZURE_SQL_DATABASE=your-production-database
AZURE_SQL_USERNAME=your-production-username
AZURE_SQL_PASSWORD=your-secure-production-password
AZURE_SQL_DRIVER=ODBC Driver 18 for SQL Server

# SSL/TLS Configuration (Production)
# SECURITY: Always use proper certificate validation in production
# Only set TrustServerCertificate=yes if you have certificate issues and understand the risks
AZURE_SQL_ENCRYPT=yes
AZURE_SQL_TRUST_SERVER_CERTIFICATE=no

# Connection Pool Settings (Production Optimized)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=60
DB_POOL_RECYCLE=7200
DB_CONNECTION_TIMEOUT=30
DB_COMMAND_TIMEOUT=60

# Database Retry Configuration
DB_MAX_RETRIES=5
DB_RETRY_DELAY=2.0

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Production logging with structured output and rotation

LOG_LEVEL=INFO
LOG_FILE=logs/production.log
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(funcName)s:%(lineno)d - %(message)s

# Log Rotation Settings
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=10
LOG_ROTATION_WHEN=midnight
LOG_ROTATION_INTERVAL=1

# Structured Logging
LOG_JSON_FORMAT=True
LOG_INCLUDE_TRACE_ID=True

# =============================================================================
# BG/NBD MODEL CONFIGURATION
# =============================================================================
# Production model parameters optimized for performance and accuracy

# Model Parameters
PREDICTION_PERIOD_DAYS=365
ENGAGEMENT_THRESHOLD=0.5
SAMPLE_SIZE=50000

# MCMC Sampling Configuration (Production)
MCMC_DRAWS=2000
MCMC_TUNE=1000
MCMC_CHAINS=4
MCMC_CORES=4
MCMC_TARGET_ACCEPT=0.95

# Model Performance Settings
MODEL_BATCH_SIZE=1000
MODEL_CACHE_SIZE=10000
MODEL_PARALLEL_JOBS=4

# =============================================================================
# OUTPUT DIRECTORIES
# =============================================================================
# Production data and model storage paths

MODEL_OUTPUT_DIR=models/production/
DATA_OUTPUT_DIR=data/production/processed/
VISUALIZATION_OUTPUT_DIR=outputs/production/visualizations/
LOGS_OUTPUT_DIR=logs/production/

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# Production security configuration

# Encryption Settings
ENCRYPT_SENSITIVE_DATA=True
ENCRYPTION_KEY_PATH=/secure/keys/encryption.key
DATA_ENCRYPTION_ALGORITHM=AES-256-GCM

# Authentication & Authorization
ENABLE_API_AUTHENTICATION=True
API_KEY_HEADER=X-API-Key
JWT_SECRET_KEY=your-jwt-secret-key-change-this
JWT_EXPIRATION_HOURS=24

# Data Privacy
ANONYMIZE_PII=True
HASH_SUPPORTER_IDS=True
GDPR_COMPLIANCE_MODE=True

# =============================================================================
# PERFORMANCE OPTIMIZATION
# =============================================================================
# Production performance tuning

# Memory Management
MAX_MEMORY_USAGE_GB=8
ENABLE_MEMORY_PROFILING=False
GARBAGE_COLLECTION_THRESHOLD=1000

# Caching Configuration
ENABLE_REDIS_CACHE=True
REDIS_HOST=your-redis-host
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0
CACHE_TTL_SECONDS=3600

# Parallel Processing
MAX_WORKER_THREADS=8
ENABLE_MULTIPROCESSING=True
CHUNK_SIZE=1000

# =============================================================================
# MONITORING & ALERTING
# =============================================================================
# Production monitoring configuration

# Application Monitoring
ENABLE_HEALTH_CHECKS=True
HEALTH_CHECK_INTERVAL=300
METRICS_COLLECTION_ENABLED=True

# External Monitoring Services
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key
ENABLE_DATADOG_LOGGING=True

# Alerting Configuration
ALERT_EMAIL_RECIPIENTS=admin@yourorganization.org,ops@yourorganization.org
ALERT_WEBHOOK_URL=https://your-webhook-url.com/alerts
ENABLE_SLACK_ALERTS=True
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================
# Production backup configuration

# Database Backup
ENABLE_AUTO_BACKUP=True
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups/database/

# Model Backup
MODEL_BACKUP_ENABLED=True
MODEL_BACKUP_FREQUENCY=daily
MODEL_BACKUP_RETENTION=7

# =============================================================================
# COMPLIANCE & AUDIT
# =============================================================================
# Production compliance settings

# Audit Logging
ENABLE_AUDIT_LOGGING=True
AUDIT_LOG_FILE=logs/audit.log
AUDIT_LOG_LEVEL=INFO

# Data Retention
DATA_RETENTION_DAYS=2555  # 7 years
MODEL_RETENTION_DAYS=365
LOG_RETENTION_DAYS=90

# Compliance Standards
SOC2_COMPLIANCE=True
GDPR_COMPLIANCE=True
HIPAA_COMPLIANCE=False

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Production feature toggles

ENABLE_EXPERIMENTAL_FEATURES=False
ENABLE_BETA_MODELS=False
ENABLE_ADVANCED_ANALYTICS=True
ENABLE_REAL_TIME_PREDICTIONS=True

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================
# Production third-party service configuration

# Email Service (for notifications)
SMTP_HOST=smtp.yourorganization.org
SMTP_PORT=587
SMTP_USERNAME=noreply@yourorganization.org
SMTP_PASSWORD=your-smtp-password
SMTP_USE_TLS=True

# Cloud Storage (for large datasets)
AZURE_STORAGE_ACCOUNT=yourstorageaccount
AZURE_STORAGE_KEY=your-storage-key
AZURE_STORAGE_CONTAINER=nonprofit-engagement-data

# =============================================================================
# RESOURCE LIMITS
# =============================================================================
# Production resource constraints

# Processing Limits
MAX_CONCURRENT_JOBS=5
MAX_PROCESSING_TIME_MINUTES=120
MAX_FILE_SIZE_MB=500

# Memory Limits
MAX_DATAFRAME_SIZE_MB=1000
MAX_MODEL_SIZE_MB=200

# Network Limits
REQUEST_TIMEOUT_SECONDS=30
MAX_RETRIES=3
RATE_LIMIT_REQUESTS_PER_MINUTE=100